# 요금제 및 플랜 (Pricing Plans)

## 📋 개요

Vality는 [Buttondown](https://buttondown.com/pricing)과 유사한 구조를 사용하되, **이메일 발송 횟수 기반 과금** 및 **애드온 방식**의 요금제를 제공합니다.

### 핵심 원칙

1. **첫 1,000통 발송은 무료** - 시작하는 크리에이터를 지원
2. **이메일 발송 횟수 기반 과금** - 실제 사용량(발송된 이메일 수)에 따라 공정하게 과금
3. **애드온 방식** - 필요한 기능만 선택하여 추가
4. **사용하지 않는 기능에 대한 과금 없음** - 투명한 가격 정책
5. **구독자 수 제한 없음** - 발송 횟수와 무관하게 구독자는 무제한

---

## 🆓 기본 플랜 (무료)

### 포함된 기능

| 기능 | 설명 |
|------|------|
| 이메일 발송 횟수 | **첫 1,000통 무료** |
| 구독자 수 | 무제한 |
| 뉴스레터 개수 | 1개 |
| 커스텀 도메인 발송 | ✅ |
| 웹 아카이빙 | ✅ (호스팅된 아카이브) |
| 기본 SEO | ✅ |
| 프라이버시 우선 | ✅ (GDPR 준수) |

### 타겟 사용자
- 뉴스레터를 시작하는 크리에이터
- 소규모 개인 프로젝트
- 월간 이메일 발송량이 적은 사용자

---

## 💰 이메일 발송 횟수 기반 과금

### 가격 구조

| 월간 이메일 발송 횟수 | 월간 요금 |
|---------------------|----------|
| 0-1,000통 | **무료** |
| 1,001-5,000통 | $9/월 |
| 5,001-10,000통 | $19/월 |
| 10,001-50,000통 | $39/월 |
| 50,001-100,000통 | $79/월 |
| 100,001통 이상 | 커스텀 가격 |

**참고:**
- 발송 횟수는 **월간 발송된 이메일 통 수** 기준으로 계산됩니다
- 이슈를 발행하면 구독자 수만큼 이메일이 발송됩니다
- 예: 구독자 100명에게 이슈 1개 발행 = 100통 발송
- 예: 구독자 50명에게 이슈 2개 발행 = 100통 발송
- 발송 횟수가 증가하면 자동으로 다음 티어로 업그레이드됩니다
- **구독자 수는 제한이 없습니다** - 발송 횟수와 무관하게 구독자는 무제한

---

## 🔌 애드온 (Add-ons)

필요한 기능만 선택하여 추가할 수 있습니다. 모든 애드온은 월간 구독 방식입니다.

### 뉴스레터 기능 애드온

| 애드온 | 가격 | 설명 |
|--------|------|------|
| **여러 뉴스레터** | +$9/월 | 뉴스레터 1개 이상 생성 |
| **예약 발송** | +$9/월 | 이슈 예약 발행 기능 |
| **유료 구독** | +$9/월 | 유료 뉴스레터 구독 기능 |
| **고급 분석** | +$9/월 | 상세 통계 및 분석 대시보드 |
| **RSS-to-Email** | +$9/월 | RSS 피드를 자동으로 이메일로 변환 |
| **커스텀 도메인 아카이브** | +$29/월 | 웹 아카이브를 커스텀 도메인에 호스팅 |

### 프로필 기능 애드온

| 애드온 | 가격 | 설명 |
|--------|------|------|
| **프로필 페이지** | 무료 | 기본 프로필 페이지 (무료 포함) |
| **추가 링크** | +$5/월 | 링크 10개 추가 (기본 5개 포함) |

---

## 💡 사용 예시

### 예시 1: 개인 크리에이터 (월 1,500통 발송, 구독자 수 무제한)

**시나리오:** 구독자 100명, 월 15회 이슈 발행 = 1,500통 발송
**기본 플랜:** 무료 (1,000통) + $9/월 (500통 추가)
**애드온:**
- 예약 발송: +$9/월
- 고급 분석: +$9/월

**총 비용:** $27/월
**구독자 수:** 무제한 (비용 영향 없음)

### 예시 2: 중소 비즈니스 (월 20,000통 발송, 구독자 수 무제한)

**시나리오:** 구독자 1,000명, 월 20회 이슈 발행 = 20,000통 발송
**기본 플랜:** $39/월 (10,001-50,000통)
**애드온:**
- 여러 뉴스레터: +$9/월
- 예약 발송: +$9/월
- 태깅 & 세그먼트: +$9/월
- 고급 분석: +$9/월
- 자동화: +$29/월

**총 비용:** $104/월
**구독자 수:** 무제한 (비용 영향 없음)

### 예시 3: 대규모 비즈니스 (월 150,000통 발송, 구독자 수 무제한)

**시나리오:** 구독자 10,000명, 월 15회 이슈 발행 = 150,000통 발송
**기본 플랜:** 커스텀 가격
**애드온:**
- 모든 기능 포함
- 화이트라벨링: +$79/월
- 팀 협업: +$79/월

**총 비용:** 커스텀 가격 (영업팀 문의)
**구독자 수:** 무제한 (비용 영향 없음)

---

## 🔄 플랜 비교 요약

### 기본 기능 (모든 사용자)

| 기능 | 포함 여부 |
|------|:--------:|
| 리치 텍스트 에디터 | ✅ |
| 커스텀 도메인 발송 | ✅ |
| 웹 아카이빙 | ✅ |
| 기본 SEO | ✅ |
| RSS 피드 | ✅ |
| 프로필 페이지 (기본) | ✅ |

### 애드온 기능

| 기능 | 애드온 가격 |
|------|-----------|
| 여러 뉴스레터 | +$9/월 |
| 예약 발송 | +$9/월 |
| 태깅 & 세그먼트 | +$9/월 |
| 고급 분석 | +$9/월 |
| 자동화 | +$29/월 |
| 화이트라벨링 | +$79/월 |

---

## 💡 플랜 선택 가이드

### 월 1,000통 이하 발송인 경우
- **기본 플랜 (무료)**로 시작
- 필요시 애드온만 추가
- 구독자 수는 무제한이므로 걱정 없음

### 월 1,000-5,000통 발송인 경우
- **기본 플랜 ($9/월)** + 필요한 애드온
- 예: 예약 발송 + 고급 분석 = $27/월
- 구독자 수는 무제한이므로 비용 영향 없음

### 월 5,000통 이상 발송인 경우
- **기본 플랜 (발송 횟수에 따라)** + 필요한 애드온
- 비즈니스 성장에 따라 점진적으로 기능 추가
- 구독자 수는 무제한이므로 비용 영향 없음

---

## 📊 이메일 발송 횟수 계산 방식

### 발송 횟수 기준

- **발송 횟수**: 월간 발송된 이메일 통 수
- **계산 방식**: 이슈 발행 시 구독자 수만큼 이메일 발송
- **예시**: 구독자 100명에게 이슈 1개 발행 = 100통 발송
- **예시**: 구독자 50명에게 이슈 2개 발행 = 100통 발송
- **DRAFT 이슈**: 발송되지 않으므로 발송 횟수에 포함되지 않음
- **예약 발행**: 실제 발송된 날짜 기준으로 해당 월에 카운트
- **구독자 수**: 발송 횟수와 무관하게 무제한 (과금 영향 없음)

### 자동 업그레이드/다운그레이드

- 월간 발송 횟수가 증가하면 자동으로 다음 티어로 업그레이드
- 월간 발송 횟수가 감소하면 다음 달부터 낮은 티어로 다운그레이드
- 사용자에게 변경 사항을 이메일로 알림

### 발송 횟수 계산 예시

```
1월 발송 내역:
- 구독자 50명, 이슈 10회 발행 = 500통 발송
- 구독자 50명, 이슈 10회 발행 = 500통 발송

총 발송 횟수: 1,000통 → 무료 티어 (0-1,000통)
```

```
1월 발송 내역:
- 구독자 100명, 이슈 20회 발행 = 2,000통 발송

총 발송 횟수: 2,000통 → $9/월 티어 (1,001-5,000통)
```

```
1월 발송 내역:
- 구독자 1,000명, 이슈 15회 발행 = 15,000통 발송

총 발송 횟수: 15,000통 → $39/월 티어 (10,001-50,000통)
```

---

## 🎯 업그레이드 유도 전략

### 제한 도달 시 알림

1. **발송 횟수 증가**
   - 1,000통 도달 시: "첫 1,000통 무료 기간이 끝났습니다. 계속 사용하려면 업그레이드하세요"
   - 다음 티어 도달 시: "발송 횟수가 증가했습니다. 자동으로 업그레이드됩니다"
   - 월간 발송 횟수 추적 대시보드 제공

2. **기능 사용 제한**
   - 애드온이 없는 기능 사용 시도 시: "이 기능을 사용하려면 [애드온 이름]을 추가하세요"
   - 모달 또는 인라인 안내 표시

### 기능 사용 제한

- **예약 발송**: 애드온 없이 사용 시도 시 안내 모달
- **여러 뉴스레터**: 2개 이상 생성 시도 시 안내 모달
- **고급 분석**: 고급 통계 페이지 접근 시 안내 모달

---

## 📝 구현 고려사항

### 이메일 발송 횟수 계산

```sql
-- 월간 이메일 발송 횟수 계산 (EmailLog 기준)
SELECT COUNT(*)
FROM email_logs el
INNER JOIN issues i ON i.id = el.issue_id
INNER JOIN newsletters n ON n.id = i.newsletter_id
WHERE el.status = 'SENT'
  AND DATE_TRUNC('month', el.sent_at) = DATE_TRUNC('month', CURRENT_DATE)
  AND n.user_id = :userId;
```

```sql
-- 사용자별 월간 발송 횟수 조회
SELECT 
  u.id as user_id,
  COUNT(el.id) as monthly_email_count
FROM users u
LEFT JOIN newsletters n ON n.user_id = u.id
LEFT JOIN issues i ON i.newsletter_id = n.id
LEFT JOIN email_logs el ON el.issue_id = i.id
  AND el.status = 'SENT'
  AND DATE_TRUNC('month', el.sent_at) = DATE_TRUNC('month', CURRENT_DATE)
GROUP BY u.id;
```

```sql
-- 이슈 발행 시 발송 횟수 계산 (구독자 수 기준)
-- 이슈 발행 시: 구독자 수 × 발행된 이슈 수 = 총 발송 횟수
SELECT 
  i.id as issue_id,
  COUNT(DISTINCT s.id) as subscriber_count,
  COUNT(DISTINCT el.id) as sent_count
FROM issues i
INNER JOIN newsletters n ON n.id = i.newsletter_id
LEFT JOIN subscribers s ON s.newsletter_id = n.id AND s.status = 'ACTIVE'
LEFT JOIN email_logs el ON el.issue_id = i.id AND el.status = 'SENT'
WHERE i.status = 'PUBLISHED'
  AND DATE_TRUNC('month', i.published_at) = DATE_TRUNC('month', CURRENT_DATE)
  AND n.user_id = :userId
GROUP BY i.id;
```

### 애드온 관리

```sql
-- users 테이블에 애드온 정보 추가
ALTER TABLE users ADD COLUMN addons JSONB DEFAULT '{}';

-- 예시: {"multiple_newsletters": true, "scheduled_sending": true}
```

### API 엔드포인트

- `GET /api/subscriptions/me` - 현재 구독 정보 및 애드온 조회
- `GET /api/subscriptions/pricing` - 발송 횟수별 가격 정보
- `GET /api/subscriptions/email-count` - 월간 이메일 발송 횟수 조회
- `POST /api/subscriptions/addons` - 애드온 추가/제거

---

## 💰 가격 정책 근거

### Buttondown 대비 경쟁력

| 기준 | Buttondown | Vality | 차이 |
|------|------------|--------|------|
| 과금 기준 | 구독자 수 | **이메일 발송 횟수** | ✅ 차별화 |
| 첫 1,000 기준 | 구독자 100명 | **발송 1,000통** | ✅ 차별화 |
| 가격 구조 | 유사 | 유사 | 유사 |

**차별화 포인트:**
- ✅ **이메일 발송 횟수 기반 과금**: 구독자 수와 무관하게 실제 발송된 이메일 수만 과금
- ✅ **구독자 수 무제한**: 발송 횟수와 무관하게 구독자는 무제한
- ✅ 웹 아카이빙 기능 (Buttondown은 기본 제공, Vality도 기본 제공)
- ✅ 프로필 페이지 기능 (Vality만 제공)
- ✅ 애드온 방식으로 유연한 가격 정책

**이메일 발송 횟수 기반 과금의 장점:**
- 소규모 크리에이터에게 유리 (구독자는 많지만 발행은 적을 수 있음)
- 실제 사용량(발송된 이메일 수)에 정확히 맞는 과금
- 구독자 수 증가에 대한 부담 없음
- 발행 빈도와 구독자 수의 조합에 따라 유연하게 과금

---

## ❓ 자주 묻는 질문

### Q: 왜 다른 이메일 서비스보다 저렴한가요?

A: 세 가지 이유가 있습니다:

1. **오버헤드 최소화**: 원격 팀으로 운영하며 불필요한 비용을 줄입니다
2. **사용량 기반 과금**: 사용하지 않는 기능에 대한 과금이 없습니다
3. **공정한 가격 정책**: 구독자 수가 증가해도 가격이 급격히 상승하지 않습니다

### Q: 비영리 단체 할인이 있나요?

A: 501(c)(3) 비영리 단체(또는 해당 국가의 동등한 단체)는 50% 할인을 받을 수 있습니다. 등록 증명서와 함께 이메일을 보내주시면 설정해드리겠습니다.

### Q: 이메일 발송량 제한이 있나요?

A: 기본적으로 하루에 전체 구독자에게 1통 이하로 발송하는 것을 권장합니다. 그 이상 발송이 필요한 경우 영업팀에 문의해주세요.

### Q: 이메일 발송 횟수는 어떻게 계산되나요?

A: **이메일 발송 횟수**는 월간 발송된 이메일 통 수입니다. 이슈를 발행하면 구독자 수만큼 이메일이 발송됩니다. 예를 들어, 구독자 100명에게 이슈 10개를 발행했다면 1,000통이 발송되며, 이는 무료 티어(0-1,000통)에 해당합니다.

### Q: 구독자 수는 제한이 있나요?

A: 아니요. 구독자 수는 무제한입니다. 발송 횟수와 무관하게 구독자는 얼마든지 늘릴 수 있으며, 구독자 수가 비용에 직접적인 영향을 주지 않습니다. 다만, 구독자 수가 많을수록 이슈 발행 시 더 많은 이메일이 발송되므로 간접적으로 비용에 영향을 줄 수 있습니다.

---

**작성일**: 2025-01-15  
**최종 수정**: 2025-01-15  
**참고**: [Buttondown Pricing](https://buttondown.com/pricing)
