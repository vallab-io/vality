# 개발 작업 순서 (Task List)

> **개발 방식**: Frontend First (UI 먼저 → 백엔드 나중에)
> **디자인 참조**: [Buttondown](https://buttondown.com)
> **컬러**: 미니멀 흑백 + 포인트 컬러

---

## ✅ 완료된 작업

- [x] 기획 문서 작성 (docs/)
- [x] Next.js 프로젝트 초기화 (apps/web)
- [x] Ktor API 프로젝트 초기화 (apps/api)
- [x] shadcn/ui 설정
- [x] 기본 페이지 스켈레톤
- [x] Prisma 스키마 초안 (참고용)
- [x] Docker Compose 설정
- [x] Ktor 기본 설정 (Serialization, CORS, StatusPages 등)
- [x] Exposed ORM 설정
- [x] Flyway 마이그레이션 설정
- [x] Koin DI 설정
- [x] User 도메인 및 Repository 구현
- [x] Health API 구현

---

## 🎨 Phase 1: 디자인 시스템 & 기본 레이아웃

### Step 1: 디자인 시스템 설정 ✅
```
예상 시간: 2-3시간
```

- [x] 컬러 팔레트 설정 (globals.css)
  - [x] Notion 스타일 따뜻한 흑백 테마
  - [x] 오렌지 포인트 컬러
- [x] 타이포그래피 설정
  - [x] Geist 폰트 (깔끔한 산세리프)
- [x] 다크모드 지원

**결과물**: Notion 스타일 디자인 시스템 ✅

---

### Step 2: 랜딩 페이지 ✅
```
예상 시간: 3-4시간
```

- [x] 히어로 섹션
  - [x] 헤드라인 + 서브헤드라인
  - [x] CTA 버튼 (시작하기)
- [x] 기능 소개 섹션
- [x] 사용 방법 섹션
- [x] CTA 섹션
- [x] 푸터

**참조**: Buttondown + Notion 스타일 ✅

---

### Step 3: 공통 레이아웃 & 네비게이션
```
예상 시간: 2-3시간
```

- [x] 헤더 컴포넌트 (랜딩)
- [x] 사이드바 (대시보드용)
- [x] 모바일 메뉴 (햄버거)
- [x] 공통 컴포넌트 분리

---

## 🔐 Phase 2: 인증 UI

### Step 4: 로그인/회원가입 페이지 ✅
```
예상 시간: 2-3시간
```

- [x] 로그인 페이지 UI 개선
  - [x] 미니멀한 폼 디자인
  - [x] 에러 메시지 (toast)
  - [x] 로딩 상태
- [x] 회원가입 페이지 UI 개선
  - [x] username 미리보기

**목업 데이터**: 로그인 시 임시로 localStorage에 저장 ✅

---

## 📊 Phase 3: 대시보드 UI

### Step 5: 대시보드 메인 ✅
```
예상 시간: 3-4시간
```

- [x] 통계 카드
  - [x] 총 구독자 수
  - [x] 발행된 뉴스레터 수
  - [x] 임시저장 수
- [x] 최근 뉴스레터 목록 (목업 데이터)
  - [x] 상태 뱃지 (발행됨/임시저장)
  - [x] 발행일, 오픈율 표시
- [x] 빠른 작성 버튼
- [x] 빠른 액션 카드 (새 뉴스레터, 구독자 관리)
- [x] 빈 상태 UI (첫 사용자용)

**목업 데이터**: 하드코딩된 샘플 데이터 사용 ✅

---

### Step 6: 뉴스레터 목록 페이지
```
예상 시간: 2-3시간
```

- [x] 뉴스레터 리스트 테이블/카드
  - [x] 제목, 상태, 날짜
  - [x] 상태 뱃지 (초안/발행됨)
- [x] 필터 (전체/초안/발행됨)
- [x] 정렬 (최신순/오래된순)
- [x] 페이지네이션
- [x] 빈 상태 UI

---

### Step 7: 뉴스레터 작성/편집 페이지
```
예상 시간: 6-8시간
```

- [x] 에디터 설치 및 설정 (TipTap)
- [x] 에디터 툴바
  - [x] 헤딩 (H1, H2, H3)
  - [x] 볼드, 이탤릭, 밑줄
  - [x] 링크 삽입
  - [x] 이미지 삽입 (URL)
  - [x] 인용구, 코드 블록
  - [x] 리스트 (순서/비순서)
- [x] 제목 입력
- [x] 미리보기 모드
- [x] 저장/발행 버튼

---

### Step 8: 구독자 관리 페이지
```
예상 시간: 2-3시간
```

- [x] 구독자 리스트 테이블
  - [x] 이메일, 상태, 구독일
- [x] 상태 필터 (활성/대기/취소)
- [x] 구독자 검색
- [x] 구독자 추가 (수동)
- [x] 구독자 삭제
- [x] CSV 내보내기 버튼 (UI만)

---

### Step 9: 설정 페이지
```
예상 시간: 2-3시간
```

- [x] 프로필 설정 탭
  - [x] 이름, 소개
  - [x] 프로필 이미지
  - [x] username
- [x] 뉴스레터 설정 탭
  - [x] 뉴스레터 이름
  - [x] 설명
- [x] 계정 설정 탭
  - [x] 계정 삭제

---

## 🌐 Phase 4: 공개 페이지 UI

### Step 10: 사용자 프로필 페이지 (`/@[username]`) ✅
```
예상 시간: 3-4시간
```

- [x] 프로필 헤더
  - [x] 프로필 이미지 (UserAvatar)
  - [x] 이름, 소개, @username
- [x] 뉴스레터 소개 (이름, 설명, 구독자 수)
- [x] 구독 폼 (이메일 입력 → 구독 완료 상태)
- [x] 발행된 뉴스레터 목록 (목업 데이터)
- [x] 반응형 디자인

**목업 사용자**: johndoe, jane

---

### Step 11: 뉴스레터 상세 페이지 (`/@[username]/[slug]`) ✅
```
예상 시간: 3-4시간
```

- [x] 뉴스레터 헤더
  - [x] 제목, 발행일
  - [x] 작성자 정보 (아바타, 이름)
- [x] 본문 렌더링 (간단한 마크다운 파싱)
- [x] 공유 버튼 (트위터, 링크 복사)
- [x] 하단 구독 CTA
- [x] 이전/다음 글 네비게이션

**목업 뉴스레터**: design-trends-2025, productivity-tips

---

### Step 12: 구독 위젯 컴포넌트 ✅
```
예상 시간: 1-2시간
```

- [x] 임베드 가능한 구독 폼
- [x] 성공/에러 메시지
- [x] 로딩 상태

---

## 🔌 Phase 5: 백엔드 개발 & 연동

### Step 13: 데이터베이스 & 기본 설정 ✅
```
예상 시간: 2-3시간
```

- [x] Ktor 프로젝트 초기화
- [x] Exposed ORM 설정 (PostgreSQL + HikariCP)
- [x] Flyway 마이그레이션 설정
- [x] Koin DI 설정
- [x] 기본 플러그인 설정 (Serialization, CORS, StatusPages 등)
- [x] Health API 구현
- [x] User 도메인 및 Repository 구현
- [ ] 나머지 도메인 모델 구현 (Newsletter, Issue, Subscriber 등)

**기술 스택**: Ktor 2.3.12, Exposed 1.0.0-rc-4, Flyway 10.9.1, Koin 3.5.6 ✅

---

### Step 14: 인증 API (Ktor)
```
예상 시간: 4-6시간
```

- [ ] JWT 인증 플러그인 설정
- [ ] 인증 라우팅 구현 (`/api/auth`)
- [ ] 회원가입 API (이메일 인증 방식)
  - [ ] 이메일 인증 코드 발송 API
  - [ ] 인증 코드 검증 API
  - [ ] 회원가입 완료 API
- [ ] 소셜 로그인 API (Google, Apple)
- [ ] 로그인 API (JWT 토큰 발급)
- [ ] 내 정보 조회 API (`/api/auth/me`)
- [ ] 토큰 갱신 API
- [ ] 프론트엔드 연동

**참고**: Account, VerificationCode 도메인 모델 필요

---

### Step 15: 뉴스레터 API
```
예상 시간: 4-5시간
```

- [ ] Newsletter 도메인 모델 구현
- [ ] NewsletterRepository 구현
- [ ] Newsletter 라우팅 구현 (`/api/newsletters`)
- [ ] CRUD API
  - [ ] 뉴스레터 생성 API
  - [ ] 뉴스레터 목록 조회 API (내 뉴스레터)
  - [ ] 뉴스레터 상세 조회 API
  - [ ] 뉴스레터 수정 API
  - [ ] 뉴스레터 삭제 API
- [ ] 발행 API (Issue 생성 및 발송)
- [ ] 공개 조회 API (`/api/public/@[username]/[slug]`)
- [ ] 프론트엔드 연동

---

### Step 16: 구독자 API
```
예상 시간: 3-4시간
```

- [ ] Subscriber 도메인 모델 구현
- [ ] SubscriberRepository 구현
- [ ] Subscriber 라우팅 구현 (`/api/subscribers`)
- [ ] 구독 신청 API (공개)
- [ ] 구독 확인 API (이메일 링크)
- [ ] 구독 취소 API
- [ ] 구독자 목록 API (인증 필요)
- [ ] 구독자 통계 API
- [ ] 프론트엔드 연동

---

### Step 17: 이슈(Issue) API
```
예상 시간: 4-5시간
```

- [ ] Issue 도메인 모델 구현
- [ ] IssueRepository 구현
- [ ] Issue 라우팅 구현 (`/api/issues`)
- [ ] CRUD API
  - [ ] 이슈 생성 API
  - [ ] 이슈 목록 조회 API
  - [ ] 이슈 상세 조회 API
  - [ ] 이슈 수정 API
  - [ ] 이슈 삭제 API
- [ ] 발행 API (상태 변경 + 이메일 발송)
- [ ] 예약 발행 API
- [ ] 공개 조회 API (`/api/public/@[username]/[slug]/[issueSlug]`)
- [ ] 프론트엔드 연동

---

### Step 18: 이메일 발송
```
예상 시간: 4-5시간
```

- [ ] Resend 연동 (Ktor HTTP Client)
- [ ] 이메일 템플릿 (HTML)
- [ ] 이메일 발송 Service 구현
- [ ] 뉴스레터 발송 API (구독자들에게 일괄 발송)
- [ ] 구독 확인 이메일
- [ ] 이메일 발송 로그 (EmailLog 도메인)
- [ ] 프론트엔드 연동

---

### Step 19: 파일 업로드 (S3)
```
예상 시간: 3-4시간
```

- [ ] AWS S3 연동 (Ktor HTTP Client 또는 AWS SDK)
- [ ] 이미지 업로드 API (`/api/upload`)
- [ ] 파일 업로드 라우팅 구현
- [ ] 이미지 최적화 (선택)
- [ ] 프론트엔드 에디터 연동

---

## 🎯 Phase 6: SEO & 마무리

### Step 20: SEO 최적화
```
예상 시간: 3-4시간
```

- [ ] 동적 메타태그 (Next.js)
- [ ] OG 이미지 자동 생성
- [ ] 구조화 데이터 (JSON-LD)
- [ ] Sitemap, RSS 생성

---

### Step 21: 최종 QA & 배포
```
예상 시간: 4-6시간
```

- [ ] 전체 플로우 테스트
- [ ] 버그 수정
- [ ] 성능 최적화
- [ ] Vercel 배포 (프론트)
- [ ] Railway/Render/EC2 배포 (백엔드 Ktor)
- [ ] 데이터베이스 마이그레이션 자동화 (CI/CD)

---

## 📋 작업 순서 요약

```
Phase 1: 디자인 시스템 & 레이아웃 (Step 1-3)
├── 디자인 시스템 설정
├── 랜딩 페이지
└── 공통 레이아웃

Phase 2: 인증 UI (Step 4)
└── 로그인/회원가입 페이지

Phase 3: 대시보드 UI (Step 5-9)
├── 대시보드 메인
├── 뉴스레터 목록
├── 뉴스레터 작성 (에디터)
├── 구독자 관리
└── 설정 페이지

Phase 4: 공개 페이지 UI (Step 10-12)
├── 사용자 프로필
├── 뉴스레터 상세
└── 구독 위젯

Phase 5: 백엔드 & 연동 (Step 13-19)
├── DB 설정 (Ktor + Exposed + Flyway)
├── 인증 API (Ktor + JWT)
├── 뉴스레터 API
├── 이슈 API
├── 구독자 API
├── 이메일 발송
└── 파일 업로드

Phase 6: SEO & 마무리 (Step 20-21)
├── SEO 최적화
└── 배포
```

---

## 🎨 디자인 가이드라인

### 컬러 팔레트
```css
/* 기본 */
--background: #ffffff;      /* 배경 */
--foreground: #0a0a0a;      /* 텍스트 */

/* 뉴트럴 */
--muted: #f5f5f5;           /* 음소거 배경 */
--muted-foreground: #737373; /* 음소거 텍스트 */
--border: #e5e5e5;          /* 테두리 */

/* 포인트 (예시 - 추후 선정) */
--primary: #000000;         /* 기본 버튼 */
--primary-foreground: #ffffff;
```

### 디자인 원칙
1. **미니멀**: 불필요한 요소 제거
2. **여백 활용**: 충분한 공간감
3. **타이포그래피 중심**: 글자가 돋보이도록
4. **흑백 기반**: 컬러는 최소한으로 (포인트만)
5. **Buttondown 참조**: 깔끔하고 기능적인 UI

---

## 🚀 다음 작업

**Step 1: 디자인 시스템 설정**부터 시작!

- [ ] 포인트 컬러 선정
- [ ] globals.css 업데이트
- [ ] 폰트 설정
